<!doctype HTML>
<html>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<link rel="manifest" href="manifest.json">

<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

<script src="js/capture.js"></script>
<script>
  function analizeImageCallback(label, confidence) {
    const message = document.getElementById("dom-overlay-message");
    message.textContent = label + " " + (Math.round(confidence * 100) / 100).toFixed(2);
  }

  AFRAME.registerComponent("markerhandler", {
    init: function() {
      this.el.sceneEl.addEventListener("markerFound", function() {
      }) 
    }
  })
</script>
<link rel="stylesheet" href="style.css">

<body style="margin: 0px; overflow: hidden;">
  
  <div id="dom-overlay">
    <div id="dom-overlay-message"></div>
  </div>

  <a-scene embedded arjs="debugUIEnabled: false;">

    <a-assets>
      <a-asset-item id="wedo-logo" src="img/wedo-logo.gltf"></a-asset-item>
      <a-asset-item id="oracle-logo" src="img/oracle-logo.gltf"></a-asset-item>
    </a-assets>

    <a-marker preset='hiro'>
      <a-entity gltf-model="#oracle-logo" position="0 0 0" rotation="0 0 0" />
      </a-entity>
    </a-marker>

    <a-marker preset='kanji'>
      <a-entity gltf-model="#wedo-logo" position="0 0 0" rotation="0 0 0" markerhandler/>
    </a-marker>

    <a-entity camera></a-entity>

  </a-scene>

  <div class="buttons">
    <button id="startbutton" class="say-hi-button" onclick="analizeImage(analizeImageCallback)">Analize</button>
  </div>

</body>

</html>
