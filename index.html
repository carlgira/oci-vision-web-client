<!doctype HTML>
<html>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<link rel="manifest" href="manifest.json">

<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

<script src="js/capture.js"></script>
<script>
  function analizeImageCallback(label, confidence) {
    const message = document.getElementById("dom-overlay-message");
    message.textContent = label + " " + (Math.round(confidence * 100) / 100).toFixed(2);
  }

  AFRAME.registerComponent('wireframe', {
    dependencies: ['material'],
    init: function () {
      this.el.components.material.material.wireframe = true;
    }
  });

  AFRAME.registerComponent("markerhandler", {
    init: function() {
      this.el.sceneEl.addEventListener("markerFound", function() {
      }) 
    }
  })
</script>
<link rel="stylesheet" href="style.css">

<body style="margin: 0px; overflow: hidden;">
  
  <div id="dom-overlay">
    <div id="dom-overlay-message"></div>
  </div>

  <a-scene embedded arjs="debugUIEnabled: false;">

    <a-assets>
      <a-asset-item id="wedo-logo" src="img/wedo-logo.gltf"></a-asset-item>
      <a-asset-item id="oracle-logo" src="img/oracle-logo.gltf"></a-asset-item>
    </a-assets>

    <a-marker preset='hiro'>
      <a-entity gltf-model="#oracle-logo" position="0 0 0" rotation="0 0 0" />
      </a-entity>
    </a-marker>

    <a-marker preset='kanji'>
      <a-entity gltf-model="#wedo-logo" position="0 0 0" rotation="0 0 0" markerhandler/>
    </a-marker>

    <!-- 11 x 5 => 0.2 -->
    <a-plane width = "0.01" height = "0.01" depth = "0" position = "0 0 -2.0" color = "#FF8800" wireframe></a-plane>
    
    <a-plane width = "0.01" height = "0.01" depth = "0" position = "1.0 -0.45 -2.0" color = "#FF8800" wireframe></a-plane>
    <a-plane width = "0.01" height = "0.01" depth = "0" position = "-1.0 -0.45 -2.0" color = "#FF8800" wireframe></a-plane>
    <a-plane width = "0.01" height = "0.01" depth = "0" position = "1.0 0.45 -2.0" color = "#FF8800" wireframe></a-plane>
    <a-plane width = "0.01" height = "0.01" depth = "0" position = "-1.0 0.45 -2.0" color = "#FF8800" wireframe></a-plane>
    
    
	</a-plane>

    <a-entity camera></a-entity>

  </a-scene>

  <div class="buttons">
    <button id="startbutton" onclick="analizeImage(analizeImageCallback)">Analize</button>
  </div>

</body>

</html>
